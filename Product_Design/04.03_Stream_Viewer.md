---
doc_id: PDD.04.03
version: 0.1.0
last_updated: 2025-11-09
status: draft
owners: [design@survey-platform.io]
tags: [functional-specification, stream-viewer, monitoring, qc, sensor-visualization, remote-operations]
---

# 04.03_Stream_Viewer

## Purpose
The **Stream Viewer** provides real-time visualization of sensor data streams within the active mission.  
It is designed to give surveyors and data processors a direct visual representation of sensor performance, signal quality, and coverage integrity—allowing for immediate quality control (QC) during live operations.

The Stream Viewer supports multiple concurrent sensor feeds and enables comparative, overlay-based, or single-sensor viewing depending on the active configuration and available screen space.

---

## Scope & Context
The Stream Viewer belongs to the **Mission Layer** of the SMP.  
It operates entirely within the current mission context, meaning each Stream Viewer window updates automatically when the surveyor changes the active mission from the **Triage Hub**.

This screen is primarily used by **Survey Operators** for in-mission monitoring and quality validation, but its visual outputs are also relevant to **Data Processors** who may remotely verify data completeness.

Core functions:
- Display real-time sensor data streams.  
- Allow sensor feed selection and layout customization.  
- Overlay QC indicators (e.g., SNR bands, ping density, beam coverage).  
- Provide contextual configuration for each feed (view mode, color scale, overlays).  
- Maintain synchronized mission context with other SMP windows (Mission Deck, Online Log).

---

## Key Concepts / Framework

| Concept | Description | Role |
|----------|--------------|------|
| **Sensor Feed** | Each viewer panel displays one live data stream from a selected sensor. | Visualization of sensor signal and quality. |
| **Layout Control** | Allows flexible screen configurations (e.g., 1×1, 1×2, 2×2). | Supports multi-sensor monitoring. |
| **QC Overlay** | Layered visualization of key quality metrics such as SNR or Ping Density. | Enables live data validation. |
| **View Control** | Adjusts visualization mode (e.g., surface, waterfall, amplitude). | Provides tailored insight into sensor behavior. |
| **Sensor Context Sync** | Sensor state (on/off, restart) and data continuity are linked to the Mission Deck. | Maintains mission coherence. |

---

## Functional or UX Details

### 1. Layout Overview

| Zone | Purpose | Components |
|------|----------|-------------|
| **Header Bar** | Provides mission context and layout configuration tools. | Mission name, layout selector, Add Sensor Feed button. |
| **Viewer Grid** | Displays one or more active sensor feeds. | Dynamic panels that adapt to selected layout. |
| **Feed Header (per panel)** | Shows sensor identity and local controls. | Sensor dropdown, QC overlay selector, settings (⚙️) button. |

---

### 2. Header Bar Functions

| Function | Description | Behavior |
|-----------|-------------|-----------|
| **Mission ID** | Displays active mission identifier. | Updated automatically with mission context. |
| **Layout Selector** | Allows user to choose between preset grid layouts (1×1, 1×2, 2×2). | Redraws viewer panels dynamically. |
| **Add Sensor Feed** | Opens modal with available mission sensors. | Selected sensor feed populates an available viewer panel. |

> Layout changes and added feeds do not impact logging or sensor operation. They are purely visualization-level actions.

---

### 3. Sensor Feed Panels

Each panel corresponds to one sensor’s live stream.

| Element | Description | Behavior |
|----------|--------------|-----------|
| **Sensor Dropdown** | Allows quick sensor switching within the panel. | Updates data feed instantly. |
| **QC Overlay Menu** | Enables or disables specific QC visual layers (e.g., SNR Bands, Ping Density). | Overlays on active visualization without interrupting the feed. |
| **Settings (⚙️)** | Opens feed configuration modal. | Adjusts parameters like view mode, color scale, and refresh rate. |
| **Feed Display Area** | Displays the real-time stream visualization. | Auto-scales or resizes based on layout and active overlays. |

#### Visualization Modes (examples)
| Mode | Description | Typical Sensors |
|------|--------------|----------------|
| **Waterfall** | Rolling time–intensity display. | Multibeam, sub-bottom profilers. |
| **Amplitude Map** | Reflectivity or return strength visualization. | Multibeam, SSS. |
| **Coverage Map** | Displays spatial coverage and density. | MBES, INS-integrated sensors. |
| **QC Overlay** | Adds auxiliary quality indicators. | All sensors. |

---

### 4. QC Overlays

Overlays are lightweight analytical layers that visualize data quality without modifying the main feed.  
They are designed for **at-a-glance validation** and can be toggled independently for each feed.

| Overlay | Description | Typical Use |
|----------|--------------|--------------|
| **SNR Bands** | Highlights signal-to-noise zones across data returns. | Assess sensor gain and water conditions. |
| **Ping Density** | Visualizes frequency and coverage of valid pings. | Identify shadow zones or dropouts. |
| **Beam Coverage** *(future)* | Plots coverage uniformity or overlap between adjacent passes. | Used in multi-pass verification. |
| **QC Threshold Flags** *(future)* | Marks threshold breaches using color or icon cues. | For automatic QC awareness. |

> Overlays derive thresholds and tolerances from configuration templates defined in the Configuration Manager (Thresholds & Health tab).

---

### 5. Feed Management Workflow

1. **Add Sensor Feed** – Open modal from header, select sensor(s) from available list.  
2. **Assign Feed to Panel** – Sensor data appears in a new panel, defaulting to basic visualization mode.  
3. **Apply QC Overlay (optional)** – Toggle overlay from panel controls.  
4. **Adjust Layout (optional)** – Modify layout as needed (1×2, 2×2).  
5. **Close Feed (optional)** – Remove a feed to free panel space; logged as “Feed removed.”  

All panel changes are non-destructive and specific to the operator’s workspace—they do not alter mission configuration or logging state.

---

### 6. Mission Synchronization Behavior

- Stream Viewer automatically updates its sensor list and active feeds when the **active mission changes** from the Triage Hub.  
- Each mission maintains its own **layout state** and **selected feeds**, restored when reactivated.  
- If a feed’s source sensor is turned off or restarted from the Mission Deck, the corresponding visualization temporarily enters a “No Data / Reconnecting” state.  
- Mission changes do not interrupt or reset the operator’s other open Stream Viewer windows.

---

## Acceptance Criteria

- Stream Viewer supports multiple sensor feeds per mission with live data visualization.  
- Layout selection (1×1, 1×2, 2×2) dynamically resizes and reflows panels.  
- Each panel includes independent sensor selection and QC overlay control.  
- Visualization updates automatically when mission context changes.  
- Sensor restart or disconnection produces temporary “reconnecting” state feedback.  
- QC overlays are lightweight and do not disrupt visualization continuity.  
- Layout and feed state are preserved per mission and restored on reactivation.  
- Overlays and feeds do not modify or interfere with live logging.  

---

## Open Questions & Next Steps

| Topic | Pending Decision |
|--------|------------------|
| **Feed Visualization Types** | Define which visualization modes are supported for MVP (e.g., Waterfall + Amplitude). |
| **Overlay Threshold Sources** | Confirm data source and refresh cadence for overlay thresholds. |
| **Performance Budget** | Establish rendering and data rate limits per feed. |
| **Interaction Tools** | Define if zoom, pan, or measurement tools are needed. |
| **Data Processor Access** | Clarify whether Data Processors can view or control overlays remotely. |

---

### Summary Statement

> The **Stream Viewer** transforms raw sensor telemetry into actionable visual insight.  
> It enables surveyors to assess sensor performance, signal quality, and coverage integrity in real time, maintaining mission synchronization and supporting quality assurance without interrupting ongoing operations.

---

**End of Document**
